<h1>Contact list</h1>


<!-- <th >
                {{col.header}}
                <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th> -->

<div class="p-grid">
  <div class="p-col-12 p-lg-9">

    <p-table [value]="contacts">
        <ng-template pTemplate="header">
            <tr>
                <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                  {{col.header}}
                  <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order">
                  </p-sortIcon>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-contact>
            <tr routerLink="/contacts/{{contact.id}}">
                <td>{{contact.first_name}} {{contact.last_name}}</td>
                <td>{{contact.email}}</td>
                <td *ngIf='contact.organization'>{{contact.organization.name}}</td>
                <td *ngIf='!contact.organization'>-</td>
            </tr>
        </ng-template>
    </p-table>
</div>
<div class="p-col-12 p-lg-3">

  <p-accordion>
      <p-accordionTab header="Add a contact" [selected]="true">
        <form (ngSubmit)="createContact()">
          <div class="p-grid ui-fluid">
              <div class="p-col-12 p-md-6">
                <div class="ui-inputgroup">
                  <span class="ui-inputgroup-addon"><fa name="at"></fa></span>
                  <input type="text" pInputText placeholder="Email" [(ngModel)]="contact_create.email" name="email">
                </div>
              </div>
              <div class="p-col-12 p-md-6">
                <div class="ui-inputgroup">
                  <span class="ui-inputgroup-addon"><fa name="user"></fa></span>
                  <input type="text" pInputText placeholder="First name" [(ngModel)]="contact_create.first_name" name="first_name">
                </div>
              </div>
              <div class="p-col-12 p-md-6">
                <div class="ui-inputgroup">
                  <span class="ui-inputgroup-addon"><fa name="user"></fa></span>
                  <input type="text" pInputText placeholder="Last name" [(ngModel)]="contact_create.last_name" name="last_name">
                </div>
              </div>
              <div class="p-col-12 p-md-6">
                  <p-dropdown [options]="organizations_choices" [(ngModel)]="contact_create.organization" name="organization" autoWidth='false' [style]="{'width':'100%'}"></p-dropdown>
              </div>
          </div>
          <div class="p-grid ui-fluid p-justify-center">
            <div class="p-col-12 p-md-6 p-lg-6 ">
                <button pButton type="submit" label="Add contact" icon="pi pi-user-plus" iconPos="left"></button>
            </div>
          </div>

        </form>
      </p-accordionTab>
    </p-accordion>

  </div>
</div>




<!-- <div class="form-group">
  <label for="email">Email</label>
  <input type="email" class="form-control"  id="email" name="email" placeholder="Email">
  <label for="first_name">First name</label>
  <input type="text" class="form-control" [(ngModel)]="contact_create.first_name" id="first_name" name="first_name" placeholder="First name">
  <label for="last_name">Last name</label>
  <input type="text" class="form-control" [(ngModel)]="contact_create.last_name" id="last_name" name="last_name" placeholder="Last name">

</div> -->
